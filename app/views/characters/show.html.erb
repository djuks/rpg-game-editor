<h1 align="center"><%= @character.name %></h1>
<hr />
<div class="row ">
  <div class="col-md-2 offset-1 card-img-top card card-body bg-light mx-auto colsize" align="center">
    <% if @character.image.attached? %>
      <%= image_tag(@character.image, size: '120x120') %>
    <% else %>
      <small>No image</small>
    <% end %>
  </div>

  <div class="col-md-8 card card-body bg-light mx-auto" >
    <p>Listing character attributes:</p>

    <div class="row  pt-2 " id="abilities">
      <%= render partial: 'abilities/ability', object: @ability%>

    </div>

    <hr/>
    <div id="new-ability" class="pt-2 pb-2">
      <%if current_user && current_user == @character.user %>
        <%= link_to 'New Ability', new_character_ability_path(@character), remote: true, class:"btn btn-primary" %>
      <%end%>
    </div>
    <hr />

    <p>
      <small>Created by: <%= @character.user.username.capitalize %>, <%= time_ago_in_words(@character.created_at) %> ago</small>
    </p>
    <div>
      <tr>
        <td><%= link_to 'Back', characters_path, class: "btn btn-primary" %></td>
        <%if current_user && current_user == @character.user %>
          <td><%= link_to 'Edit Character', edit_character_path(@character), class: "btn btn-warning" %></td>
          <td><%= link_to "Delete Character", character_path(@character), method: :delete,
                                            data: { confirm: "Are you sure you want to delete?" },
                                            class: "btn btn-xs btn-danger" %>
          </td>
        <%end%>
      </tr>
    </div>
  </div>
</div>
<div class="row">
    <div class="col-md-12 card card-body bg-light mx-auto mt-3">
      <% if @character.description %>
        <p class="biography-title"><%=@character.name%>'s Biography</p>
        <p><%=@character.description%></p>
      <%end%>
    <div/>
</div>
<hr/>
<div class="row justify-content-between">
  <% if user_signed_in? %>
    <div class="col-md-4  ">
      <h3>Create your comment: </h3>
      <hr />
      <%= form_for([@character, @comment], :html => {class: "form-horizontal", role: "form"}) do |f| %>
        <div class="form-group">
          <div class="control-label col-md-4">
            <%= f.label :description, "Comment" %>
          </div>
          <div class="col-md-12">
            <%= f.text_area :description, rows: 5, class: "form-control", placeholder: "Enter Comment Here" %>
          </div>
        </div>

        <div class="form-group">
          <div class="col-md-offset-2 col-md-10">
            <%= f.submit "Submit Comment", class: "btn btn-primary btn-lg btn-xlarge" %>
          </div>
        </div>
      <% end %>
      <hr />
    </div>
  <% end %>
  <% if @character.comments != 0 %>
    <div class="col-md-8">
      <h3 class="center">Comments: </h3>
        <div id="messages">
          <%= render partial: 'comments/comments', object: @comments %>
        </div>
    </div>
  <% else %>
    <div class="row">
      <div class="col-md-8 center">
        <h3>No Comments Yet!</h3>
      </div>
    </div>
  <% end %>

</div>
